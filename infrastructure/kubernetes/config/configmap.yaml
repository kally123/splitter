apiVersion: v1
kind: ConfigMap
metadata:
  name: splitter-config
  namespace: splitter
  labels:
    app.kubernetes.io/name: splitter
    app.kubernetes.io/part-of: splitter-platform
data:
  # Spring Boot profiles
  SPRING_PROFILES_ACTIVE: "production"
  
  # Kafka configuration
  KAFKA_BOOTSTRAP_SERVERS: "kafka-headless.splitter.svc.cluster.local:9092"
  SPRING_KAFKA_CONSUMER_GROUP_ID: "splitter-consumers"
  
  # Redis configuration
  REDIS_HOST: "redis-master.splitter.svc.cluster.local"
  REDIS_PORT: "6379"
  
  # PostgreSQL configuration
  POSTGRES_HOST: "postgresql.splitter.svc.cluster.local"
  POSTGRES_PORT: "5432"
  
  # Service discovery
  USER_SERVICE_URL: "http://user-service.splitter.svc.cluster.local:8081"
  GROUP_SERVICE_URL: "http://group-service.splitter.svc.cluster.local:8082"
  EXPENSE_SERVICE_URL: "http://expense-service.splitter.svc.cluster.local:8083"
  BALANCE_SERVICE_URL: "http://balance-service.splitter.svc.cluster.local:8084"
  SETTLEMENT_SERVICE_URL: "http://settlement-service.splitter.svc.cluster.local:8085"
  NOTIFICATION_SERVICE_URL: "http://notification-service.splitter.svc.cluster.local:8086"
  
  # Monitoring
  MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE: "health,info,prometheus,metrics"
  MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED: "true"
  
  # Tracing
  MANAGEMENT_TRACING_SAMPLING_PROBABILITY: "0.1"
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://jaeger-collector.splitter.svc.cluster.local:4317"
  
  # Logging
  LOGGING_LEVEL_ROOT: "INFO"
  LOGGING_LEVEL_COM_SPLITTER: "INFO"
  LOGGING_PATTERN_CONSOLE: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
